id: 73512
name: SnapSnag
environments:
    develop:
        runtime: docker
        memory: 3008
        timeout: 900
        database: dev-snapsnag-db
        cache: eventers-cache
        storage: develop-snapsnag-storage
        # dockerfile: ./Dockerfile  # Optional: specify custom Dockerfile
        # If not specified, will look for develop.Dockerfile or ./Dockerfile
        imageTag: latest
        # Build commands are skipped for Docker deployments
        # The Dockerfile handles the build process
        build:
            - 'echo "Skipping build for Docker deployment"'
        deploy:
            - 'echo "Deployment commands run after image is pushed"'
    
    production:
        runtime: nodejs18.x
        memory: 3008
        timeout: 900
        database: prd-snapsnag-db
        cache: eventers-cache
        storage: prd-snapsnag-storage
        build:
            - 'npm ci'
            - 'npm run build:prod'
        deploy:
            - 'npm run migrate'
            - 'echo "Deployed to production"'

